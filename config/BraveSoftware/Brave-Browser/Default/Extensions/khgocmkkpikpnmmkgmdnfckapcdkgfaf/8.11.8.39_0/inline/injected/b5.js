"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="5996995a-7fd6-5ed2-a85d-09c59dfea4ca")}catch(e){}}();

(() => {
var Ct=Object.create;var dr=Object.defineProperty;var Dt=Object.getOwnPropertyDescriptor;var Nt=Object.getOwnPropertyNames;var qt=Object.getPrototypeOf,jt=Object.prototype.hasOwnProperty;var $=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var Ft=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of Nt(r))!jt.call(e,i)&&i!==t&&dr(e,i,{get:()=>r[i],enumerable:!(n=Dt(r,i))||n.enumerable});return e};var mr=(e,r,t)=>(t=e!=null?Ct(qt(e)):{},Ft(r||!e||!e.__esModule?dr(t,"default",{value:e,enumerable:!0}):t,e));var Q=$(l=>{"use strict";var Hn=l&&l.__spreadArray||function(e,r,t){if(t||arguments.length===2)for(var n=0,i=r.length,a;n<i;n++)(a||!(n in r))&&(a||(a=Array.prototype.slice.call(r,0,n)),a[n]=r[n]);return e.concat(a||Array.prototype.slice.call(r))};Object.defineProperty(l,"__esModule",{value:!0});l.dual=l.getEndomorphismMonoid=l.not=l.SK=l.hole=l.pipe=l.untupled=l.tupled=l.absurd=l.decrement=l.increment=l.tuple=l.flow=l.flip=l.constVoid=l.constUndefined=l.constNull=l.constFalse=l.constTrue=l.constant=l.unsafeCoerce=l.identity=l.apply=l.getRing=l.getSemiring=l.getMonoid=l.getSemigroup=l.getBooleanAlgebra=void 0;var Vn=function(e){return function(){return{meet:function(r,t){return function(n){return e.meet(r(n),t(n))}},join:function(r,t){return function(n){return e.join(r(n),t(n))}},zero:function(){return e.zero},one:function(){return e.one},implies:function(r,t){return function(n){return e.implies(r(n),t(n))}},not:function(r){return function(t){return e.not(r(t))}}}}};l.getBooleanAlgebra=Vn;var zn=function(e){return function(){return{concat:function(r,t){return function(n){return e.concat(r(n),t(n))}}}}};l.getSemigroup=zn;var Jn=function(e){var r=(0,l.getSemigroup)(e);return function(){return{concat:r().concat,empty:function(){return e.empty}}}};l.getMonoid=Jn;var Gn=function(e){return{add:function(r,t){return function(n){return e.add(r(n),t(n))}},zero:function(){return e.zero},mul:function(r,t){return function(n){return e.mul(r(n),t(n))}},one:function(){return e.one}}};l.getSemiring=Gn;var Xn=function(e){var r=(0,l.getSemiring)(e);return{add:r.add,mul:r.mul,one:r.one,zero:r.zero,sub:function(t,n){return function(i){return e.sub(t(i),n(i))}}}};l.getRing=Xn;var Zn=function(e){return function(r){return r(e)}};l.apply=Zn;function ze(e){return e}l.identity=ze;l.unsafeCoerce=ze;function pe(e){return function(){return e}}l.constant=pe;l.constTrue=pe(!0);l.constFalse=pe(!1);l.constNull=pe(null);l.constUndefined=pe(void 0);l.constVoid=l.constUndefined;function Qn(e){return function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return r.length>1?e(r[1],r[0]):function(n){return e(n)(r[0])}}}l.flip=Qn;function Hr(e,r,t,n,i,a,u,s,c){switch(arguments.length){case 1:return e;case 2:return function(){return r(e.apply(this,arguments))};case 3:return function(){return t(r(e.apply(this,arguments)))};case 4:return function(){return n(t(r(e.apply(this,arguments))))};case 5:return function(){return i(n(t(r(e.apply(this,arguments)))))};case 6:return function(){return a(i(n(t(r(e.apply(this,arguments))))))};case 7:return function(){return u(a(i(n(t(r(e.apply(this,arguments)))))))};case 8:return function(){return s(u(a(i(n(t(r(e.apply(this,arguments))))))))};case 9:return function(){return c(s(u(a(i(n(t(r(e.apply(this,arguments)))))))))}}}l.flow=Hr;function Yn(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e}l.tuple=Yn;function eo(e){return e+1}l.increment=eo;function ro(e){return e-1}l.decrement=ro;function Vr(e){throw new Error("Called `absurd` function which should be uncallable")}l.absurd=Vr;function to(e){return function(r){return e.apply(void 0,r)}}l.tupled=to;function no(e){return function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return e(r)}}l.untupled=no;function oo(e,r,t,n,i,a,u,s,c){switch(arguments.length){case 1:return e;case 2:return r(e);case 3:return t(r(e));case 4:return n(t(r(e)));case 5:return i(n(t(r(e))));case 6:return a(i(n(t(r(e)))));case 7:return u(a(i(n(t(r(e))))));case 8:return s(u(a(i(n(t(r(e)))))));case 9:return c(s(u(a(i(n(t(r(e))))))));default:{for(var m=arguments[0],d=1;d<arguments.length;d++)m=arguments[d](m);return m}}}l.pipe=oo;l.hole=Vr;var io=function(e,r){return r};l.SK=io;function ao(e){return function(r){return!e(r)}}l.not=ao;var so=function(){return{concat:function(e,r){return Hr(e,r)},empty:ze}};l.getEndomorphismMonoid=so;var uo=function(e,r){var t=typeof e=="number"?function(n){return n.length>=e}:e;return function(){var n=Array.from(arguments);return t(arguments)?r.apply(this,n):function(i){return r.apply(void 0,Hn([i],n,!1))}}};l.dual=uo});var fe=$(p=>{"use strict";var co=p&&p.__spreadArray||function(e,r,t){if(t||arguments.length===2)for(var n=0,i=r.length,a;n<i;n++)(a||!(n in r))&&(a||(a=Array.prototype.slice.call(r,0,n)),a[n]=r[n]);return e.concat(a||Array.prototype.slice.call(r))};Object.defineProperty(p,"__esModule",{value:!0});p.flatMapReader=p.flatMapTask=p.flatMapIO=p.flatMapEither=p.flatMapOption=p.flatMapNullable=p.liftOption=p.liftNullable=p.fromReadonlyNonEmptyArray=p.has=p.emptyRecord=p.emptyReadonlyArray=p.tail=p.head=p.isNonEmpty=p.singleton=p.right=p.left=p.isRight=p.isLeft=p.some=p.none=p.isSome=p.isNone=void 0;var ae=Q(),lo=function(e){return e._tag==="None"};p.isNone=lo;var po=function(e){return e._tag==="Some"};p.isSome=po;p.none={_tag:"None"};var fo=function(e){return{_tag:"Some",value:e}};p.some=fo;var go=function(e){return e._tag==="Left"};p.isLeft=go;var mo=function(e){return e._tag==="Right"};p.isRight=mo;var vo=function(e){return{_tag:"Left",left:e}};p.left=vo;var ho=function(e){return{_tag:"Right",right:e}};p.right=ho;var yo=function(e){return[e]};p.singleton=yo;var xo=function(e){return e.length>0};p.isNonEmpty=xo;var bo=function(e){return e[0]};p.head=bo;var Ao=function(e){return e.slice(1)};p.tail=Ao;p.emptyReadonlyArray=[];p.emptyRecord={};p.has=Object.prototype.hasOwnProperty;var To=function(e){return co([e[0]],e.slice(1),!0)};p.fromReadonlyNonEmptyArray=To;var wo=function(e){return function(r,t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var a=r.apply(void 0,n);return e.fromEither(a==null?(0,p.left)(t.apply(void 0,n)):(0,p.right)(a))}}};p.liftNullable=wo;var So=function(e){return function(r,t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var a=r.apply(void 0,n);return e.fromEither((0,p.isNone)(a)?(0,p.left)(t.apply(void 0,n)):(0,p.right)(a.value))}}};p.liftOption=So;var Mo=function(e,r){return(0,ae.dual)(3,function(t,n,i){return r.flatMap(t,(0,p.liftNullable)(e)(n,i))})};p.flatMapNullable=Mo;var Eo=function(e,r){return(0,ae.dual)(3,function(t,n,i){return r.flatMap(t,(0,p.liftOption)(e)(n,i))})};p.flatMapOption=Eo;var Ro=function(e,r){return(0,ae.dual)(2,function(t,n){return r.flatMap(t,function(i){return e.fromEither(n(i))})})};p.flatMapEither=Ro;var Po=function(e,r){return(0,ae.dual)(2,function(t,n){return r.flatMap(t,function(i){return e.fromIO(n(i))})})};p.flatMapIO=Po;var Io=function(e,r){return(0,ae.dual)(2,function(t,n){return r.flatMap(t,function(i){return e.fromTask(n(i))})})};p.flatMapTask=Io;var Oo=function(e,r){return(0,ae.dual)(2,function(t,n){return r.flatMap(t,function(i){return e.fromReader(n(i))})})};p.flatMapReader=Oo});var Xe=$(E=>{"use strict";var _o=E&&E.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(r,t);(!i||("get"in i?!r.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,n,i)}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),Lo=E&&E.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),Uo=E&&E.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t in e)t!=="default"&&Object.prototype.hasOwnProperty.call(e,t)&&_o(r,e,t);return Lo(r,e),r};Object.defineProperty(E,"__esModule",{value:!0});E.sequenceS=E.sequenceT=E.getApplySemigroup=E.apS=E.apSecond=E.apFirst=E.ap=void 0;var Co=Q(),Do=Uo(fe());function No(e,r){return function(t){return function(n){return e.ap(e.map(n,function(i){return function(a){return r.ap(i,a)}}),t)}}}E.ap=No;function qo(e){return function(r){return function(t){return e.ap(e.map(t,function(n){return function(){return n}}),r)}}}E.apFirst=qo;function jo(e){return function(r){return function(t){return e.ap(e.map(t,function(){return function(n){return n}}),r)}}}E.apSecond=jo;function Fo(e){return function(r,t){return function(n){return e.ap(e.map(n,function(i){return function(a){var u;return Object.assign({},i,(u={},u[r]=a,u))}}),t)}}}E.apS=Fo;function Bo(e){return function(r){return{concat:function(t,n){return e.ap(e.map(t,function(i){return function(a){return r.concat(i,a)}}),n)}}}}E.getApplySemigroup=Bo;function Ge(e,r,t){return function(n){for(var i=Array(t.length+1),a=0;a<t.length;a++)i[a]=t[a];return i[t.length]=n,r===0?e.apply(null,i):Ge(e,r-1,i)}}var Je={1:function(e){return[e]},2:function(e){return function(r){return[e,r]}},3:function(e){return function(r){return function(t){return[e,r,t]}}},4:function(e){return function(r){return function(t){return function(n){return[e,r,t,n]}}}},5:function(e){return function(r){return function(t){return function(n){return function(i){return[e,r,t,n,i]}}}}}};function Wo(e){return Do.has.call(Je,e)||(Je[e]=Ge(Co.tuple,e-1,[])),Je[e]}function $o(e){return function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];for(var n=r.length,i=Wo(n),a=e.map(r[0],i),u=1;u<n;u++)a=e.ap(a,r[u]);return a}}E.sequenceT=$o;function ko(e){var r=e.length;switch(r){case 1:return function(t){var n;return n={},n[e[0]]=t,n};case 2:return function(t){return function(n){var i;return i={},i[e[0]]=t,i[e[1]]=n,i}};case 3:return function(t){return function(n){return function(i){var a;return a={},a[e[0]]=t,a[e[1]]=n,a[e[2]]=i,a}}};case 4:return function(t){return function(n){return function(i){return function(a){var u;return u={},u[e[0]]=t,u[e[1]]=n,u[e[2]]=i,u[e[3]]=a,u}}}};case 5:return function(t){return function(n){return function(i){return function(a){return function(u){var s;return s={},s[e[0]]=t,s[e[1]]=n,s[e[2]]=i,s[e[3]]=a,s[e[4]]=u,s}}}}};default:return Ge(function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i={},a=0;a<r;a++)i[e[a]]=t[a];return i},r-1,[])}}function Ko(e){return function(r){for(var t=Object.keys(r),n=t.length,i=ko(t),a=e.map(r[t[0]],i),u=1;u<n;u++)a=e.ap(a,r[t[u]]);return a}}E.sequenceS=Ko});var Ie=$(U=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});U.asUnit=U.as=U.getFunctorComposition=U.let=U.bindTo=U.flap=U.map=void 0;var Ho=Q();function zr(e,r){return function(t){return function(n){return e.map(n,function(i){return r.map(i,t)})}}}U.map=zr;function Vo(e){return function(r){return function(t){return e.map(t,function(n){return n(r)})}}}U.flap=Vo;function zo(e){return function(r){return function(t){return e.map(t,function(n){var i;return i={},i[r]=n,i})}}}U.bindTo=zo;function Jo(e){return function(r,t){return function(n){return e.map(n,function(i){var a;return Object.assign({},i,(a={},a[r]=t(i),a))})}}}U.let=Jo;function Go(e,r){var t=zr(e,r);return{map:function(n,i){return(0,Ho.pipe)(n,t(i))}}}U.getFunctorComposition=Go;function Jr(e){return function(r,t){return e.map(r,function(){return t})}}U.as=Jr;function Xo(e){var r=Jr(e);return function(t){return r(t,void 0)}}U.asUnit=Xo});var Xr=$(se=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});se.getApplicativeComposition=se.getApplicativeMonoid=void 0;var Gr=Xe(),Zo=Q(),Qo=Ie();function Yo(e){var r=(0,Gr.getApplySemigroup)(e);return function(t){return{concat:r(t).concat,empty:e.of(t.empty)}}}se.getApplicativeMonoid=Yo;function ei(e,r){var t=(0,Qo.getFunctorComposition)(e,r).map,n=(0,Gr.ap)(e,r);return{map:t,of:function(i){return e.of(r.of(i))},ap:function(i,a){return(0,Zo.pipe)(i,n(a))}}}se.getApplicativeComposition=ei});var Ze=$(Y=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});Y.bind=Y.tap=Y.chainFirst=void 0;function ri(e){var r=Zr(e);return function(t){return function(n){return r(n,t)}}}Y.chainFirst=ri;function Zr(e){return function(r,t){return e.chain(r,function(n){return e.map(t(n),function(){return n})})}}Y.tap=Zr;function ti(e){return function(r,t){return function(n){return e.chain(n,function(i){return e.map(t(i),function(a){var u;return Object.assign({},i,(u={},u[r]=a,u))})})}}}Y.bind=ti});var Qr=$(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.tailRec=void 0;var ni=function(e,r){for(var t=r(e);t._tag==="Left";)t=r(t.left);return t.right};Oe.tailRec=ni});var nt=$(S=>{"use strict";var oi=S&&S.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(r,t);(!i||("get"in i?!r.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,n,i)}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),ii=S&&S.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),ai=S&&S.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t in e)t!=="default"&&Object.prototype.hasOwnProperty.call(e,t)&&oi(r,e,t);return ii(r,e),r};Object.defineProperty(S,"__esModule",{value:!0});S.tapEither=S.filterOrElse=S.chainFirstEitherK=S.chainEitherK=S.fromEitherK=S.chainOptionK=S.fromOptionK=S.fromPredicate=S.fromOption=void 0;var si=Ze(),Yr=Q(),ne=ai(fe());function et(e){return function(r){return function(t){return e.fromEither(ne.isNone(t)?ne.left(r()):ne.right(t.value))}}}S.fromOption=et;function ui(e){return function(r,t){return function(n){return e.fromEither(r(n)?ne.right(n):ne.left(t(n)))}}}S.fromPredicate=ui;function rt(e){var r=et(e);return function(t){var n=r(t);return function(i){return(0,Yr.flow)(i,n)}}}S.fromOptionK=rt;function ci(e,r){var t=rt(e);return function(n){var i=t(n);return function(a){return function(u){return r.chain(u,i(a))}}}}S.chainOptionK=ci;function Qe(e){return function(r){return(0,Yr.flow)(r,e.fromEither)}}S.fromEitherK=Qe;function li(e,r){var t=Qe(e);return function(n){return function(i){return r.chain(i,t(n))}}}S.chainEitherK=li;function pi(e,r){var t=tt(e,r);return function(n){return function(i){return t(i,n)}}}S.chainFirstEitherK=pi;function fi(e,r){return function(t,n){return function(i){return r.chain(i,function(a){return e.fromEither(t(a)?ne.right(a):ne.left(n(a)))})}}}S.filterOrElse=fi;function tt(e,r){var t=Qe(e),n=(0,si.tap)(r);return function(i,a){return n(i,t(a))}}S.tapEither=tt});var ot=$(h=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0});h.right=h.left=h.flap=h.Functor=h.Bifunctor=h.URI=h.bimap=h.mapLeft=h.map=h.separated=void 0;var Ye=Q(),gi=Ie(),di=function(e,r){return{left:e,right:r}};h.separated=di;var mi=function(e,r){return(0,Ye.pipe)(e,(0,h.map)(r))},vi=function(e,r){return(0,Ye.pipe)(e,(0,h.mapLeft)(r))},hi=function(e,r,t){return(0,Ye.pipe)(e,(0,h.bimap)(r,t))},yi=function(e){return function(r){return(0,h.separated)((0,h.left)(r),e((0,h.right)(r)))}};h.map=yi;var xi=function(e){return function(r){return(0,h.separated)(e((0,h.left)(r)),(0,h.right)(r))}};h.mapLeft=xi;var bi=function(e,r){return function(t){return(0,h.separated)(e((0,h.left)(t)),r((0,h.right)(t)))}};h.bimap=bi;h.URI="Separated";h.Bifunctor={URI:h.URI,mapLeft:vi,bimap:hi};h.Functor={URI:h.URI,map:mi};h.flap=(0,gi.flap)(h.Functor);var Ai=function(e){return e.left};h.left=Ai;var Ti=function(e){return e.right};h.right=Ti});var at=$(q=>{"use strict";var wi=q&&q.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(r,t);(!i||("get"in i?!r.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,n,i)}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),Si=q&&q.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),Mi=q&&q.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t in e)t!=="default"&&Object.prototype.hasOwnProperty.call(e,t)&&wi(r,e,t);return Si(r,e),r};Object.defineProperty(q,"__esModule",{value:!0});q.filterE=q.witherDefault=q.wiltDefault=void 0;var it=Mi(fe());function Ei(e,r){return function(t){var n=e.traverse(t);return function(i,a){return t.map(n(i,a),r.separate)}}}q.wiltDefault=Ei;function Ri(e,r){return function(t){var n=e.traverse(t);return function(i,a){return t.map(n(i,a),r.compact)}}}q.witherDefault=Ri;function Pi(e){return function(r){var t=e.wither(r);return function(n){return function(i){return t(i,function(a){return r.map(n(a),function(u){return u?it.some(a):it.none})})}}}}q.filterE=Pi});var dt=$(o=>{"use strict";var Ii=o&&o.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(r,t);(!i||("get"in i?!r.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,n,i)}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),Oi=o&&o.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),ut=o&&o.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t in e)t!=="default"&&Object.prototype.hasOwnProperty.call(e,t)&&Ii(r,e,t);return Oi(r,e),r};Object.defineProperty(o,"__esModule",{value:!0});o.match=o.foldW=o.matchW=o.isRight=o.isLeft=o.fromOption=o.fromPredicate=o.FromEither=o.MonadThrow=o.throwError=o.ChainRec=o.Extend=o.extend=o.Alt=o.alt=o.altW=o.Bifunctor=o.mapLeft=o.bimap=o.Traversable=o.sequence=o.traverse=o.Foldable=o.reduceRight=o.foldMap=o.reduce=o.Monad=o.Chain=o.Applicative=o.Apply=o.ap=o.apW=o.Pointed=o.of=o.asUnit=o.as=o.Functor=o.map=o.getAltValidation=o.getApplicativeValidation=o.getWitherable=o.getFilterable=o.getCompactable=o.getSemigroup=o.getEq=o.getShow=o.URI=o.flatMap=o.right=o.left=void 0;o.chainFirstW=o.chainFirst=o.chain=o.chainW=o.sequenceArray=o.traverseArray=o.traverseArrayWithIndex=o.traverseReadonlyArrayWithIndex=o.traverseReadonlyNonEmptyArrayWithIndex=o.ApT=o.apSW=o.apS=o.bindW=o.bind=o.let=o.bindTo=o.Do=o.exists=o.elem=o.toError=o.toUnion=o.chainNullableK=o.fromNullableK=o.tryCatchK=o.tryCatch=o.fromNullable=o.orElse=o.orElseW=o.swap=o.filterOrElseW=o.filterOrElse=o.flatMapOption=o.flatMapNullable=o.liftOption=o.liftNullable=o.chainOptionKW=o.chainOptionK=o.fromOptionK=o.duplicate=o.flatten=o.flattenW=o.tap=o.apSecondW=o.apSecond=o.apFirstW=o.apFirst=o.flap=o.getOrElse=o.getOrElseW=o.fold=void 0;o.getValidation=o.getValidationMonoid=o.getValidationSemigroup=o.getApplyMonoid=o.getApplySemigroup=o.either=o.stringifyJSON=o.parseJSON=void 0;var ct=Xr(),ge=Xe(),lt=ut(Ze()),_i=Qr(),de=nt(),R=Q(),me=Ie(),K=ut(fe()),G=ot(),st=at();o.left=K.left;o.right=K.right;o.flatMap=(0,R.dual)(2,function(e,r){return(0,o.isLeft)(e)?e:r(e.right)});var C=function(e,r){return(0,R.pipe)(e,(0,o.map)(r))},oe=function(e,r){return(0,R.pipe)(e,(0,o.ap)(r))},ve=function(e,r,t){return(0,R.pipe)(e,(0,o.reduce)(r,t))},he=function(e){return function(r,t){var n=(0,o.foldMap)(e);return(0,R.pipe)(r,n(t))}},ye=function(e,r,t){return(0,R.pipe)(e,(0,o.reduceRight)(r,t))},_e=function(e){var r=(0,o.traverse)(e);return function(t,n){return(0,R.pipe)(t,r(n))}},er=function(e,r,t){return(0,R.pipe)(e,(0,o.bimap)(r,t))},rr=function(e,r){return(0,R.pipe)(e,(0,o.mapLeft)(r))},pt=function(e,r){return(0,R.pipe)(e,(0,o.alt)(r))},tr=function(e,r){return(0,R.pipe)(e,(0,o.extend)(r))},nr=function(e,r){return(0,_i.tailRec)(r(e),function(t){return(0,o.isLeft)(t)?(0,o.right)((0,o.left)(t.left)):(0,o.isLeft)(t.right)?(0,o.left)(r(t.right.left)):(0,o.right)((0,o.right)(t.right.right))})};o.URI="Either";var Li=function(e,r){return{show:function(t){return(0,o.isLeft)(t)?"left(".concat(e.show(t.left),")"):"right(".concat(r.show(t.right),")")}}};o.getShow=Li;var Ui=function(e,r){return{equals:function(t,n){return t===n||((0,o.isLeft)(t)?(0,o.isLeft)(n)&&e.equals(t.left,n.left):(0,o.isRight)(n)&&r.equals(t.right,n.right))}}};o.getEq=Ui;var Ci=function(e){return{concat:function(r,t){return(0,o.isLeft)(t)?r:(0,o.isLeft)(r)?t:(0,o.right)(e.concat(r.right,t.right))}}};o.getSemigroup=Ci;var Di=function(e){var r=(0,o.left)(e.empty);return{URI:o.URI,_E:void 0,compact:function(t){return(0,o.isLeft)(t)?t:t.right._tag==="None"?r:(0,o.right)(t.right.value)},separate:function(t){return(0,o.isLeft)(t)?(0,G.separated)(t,t):(0,o.isLeft)(t.right)?(0,G.separated)((0,o.right)(t.right.left),r):(0,G.separated)(r,(0,o.right)(t.right.right))}}};o.getCompactable=Di;var Ni=function(e){var r=(0,o.left)(e.empty),t=(0,o.getCompactable)(e),n=t.compact,i=t.separate,a=function(s,c){return(0,o.isLeft)(s)||c(s.right)?s:r},u=function(s,c){return(0,o.isLeft)(s)?(0,G.separated)(s,s):c(s.right)?(0,G.separated)(r,(0,o.right)(s.right)):(0,G.separated)((0,o.right)(s.right),r)};return{URI:o.URI,_E:void 0,map:C,compact:n,separate:i,filter:a,filterMap:function(s,c){if((0,o.isLeft)(s))return s;var m=c(s.right);return m._tag==="None"?r:(0,o.right)(m.value)},partition:u,partitionMap:function(s,c){if((0,o.isLeft)(s))return(0,G.separated)(s,s);var m=c(s.right);return(0,o.isLeft)(m)?(0,G.separated)((0,o.right)(m.left),r):(0,G.separated)(r,(0,o.right)(m.right))}}};o.getFilterable=Ni;var qi=function(e){var r=(0,o.getFilterable)(e),t=(0,o.getCompactable)(e);return{URI:o.URI,_E:void 0,map:C,compact:r.compact,separate:r.separate,filter:r.filter,filterMap:r.filterMap,partition:r.partition,partitionMap:r.partitionMap,traverse:_e,sequence:o.sequence,reduce:ve,foldMap:he,reduceRight:ye,wither:(0,st.witherDefault)(o.Traversable,t),wilt:(0,st.wiltDefault)(o.Traversable,t)}};o.getWitherable=qi;var ji=function(e){return{URI:o.URI,_E:void 0,map:C,ap:function(r,t){return(0,o.isLeft)(r)?(0,o.isLeft)(t)?(0,o.left)(e.concat(r.left,t.left)):r:(0,o.isLeft)(t)?t:(0,o.right)(r.right(t.right))},of:o.of}};o.getApplicativeValidation=ji;var Fi=function(e){return{URI:o.URI,_E:void 0,map:C,alt:function(r,t){if((0,o.isRight)(r))return r;var n=t();return(0,o.isLeft)(n)?(0,o.left)(e.concat(r.left,n.left)):n}}};o.getAltValidation=Fi;var Bi=function(e){return function(r){return(0,o.isLeft)(r)?r:(0,o.right)(e(r.right))}};o.map=Bi;o.Functor={URI:o.URI,map:C};o.as=(0,R.dual)(2,(0,me.as)(o.Functor));o.asUnit=(0,me.asUnit)(o.Functor);o.of=o.right;o.Pointed={URI:o.URI,of:o.of};var Wi=function(e){return function(r){return(0,o.isLeft)(r)?r:(0,o.isLeft)(e)?e:(0,o.right)(r.right(e.right))}};o.apW=Wi;o.ap=o.apW;o.Apply={URI:o.URI,map:C,ap:oe};o.Applicative={URI:o.URI,map:C,ap:oe,of:o.of};o.Chain={URI:o.URI,map:C,ap:oe,chain:o.flatMap};o.Monad={URI:o.URI,map:C,ap:oe,of:o.of,chain:o.flatMap};var $i=function(e,r){return function(t){return(0,o.isLeft)(t)?e:r(e,t.right)}};o.reduce=$i;var ki=function(e){return function(r){return function(t){return(0,o.isLeft)(t)?e.empty:r(t.right)}}};o.foldMap=ki;var Ki=function(e,r){return function(t){return(0,o.isLeft)(t)?e:r(t.right,e)}};o.reduceRight=Ki;o.Foldable={URI:o.URI,reduce:ve,foldMap:he,reduceRight:ye};var Hi=function(e){return function(r){return function(t){return(0,o.isLeft)(t)?e.of((0,o.left)(t.left)):e.map(r(t.right),o.right)}}};o.traverse=Hi;var Vi=function(e){return function(r){return(0,o.isLeft)(r)?e.of((0,o.left)(r.left)):e.map(r.right,o.right)}};o.sequence=Vi;o.Traversable={URI:o.URI,map:C,reduce:ve,foldMap:he,reduceRight:ye,traverse:_e,sequence:o.sequence};var zi=function(e,r){return function(t){return(0,o.isLeft)(t)?(0,o.left)(e(t.left)):(0,o.right)(r(t.right))}};o.bimap=zi;var Ji=function(e){return function(r){return(0,o.isLeft)(r)?(0,o.left)(e(r.left)):r}};o.mapLeft=Ji;o.Bifunctor={URI:o.URI,bimap:er,mapLeft:rr};var Gi=function(e){return function(r){return(0,o.isLeft)(r)?e():r}};o.altW=Gi;o.alt=o.altW;o.Alt={URI:o.URI,map:C,alt:pt};var Xi=function(e){return function(r){return(0,o.isLeft)(r)?r:(0,o.right)(e(r))}};o.extend=Xi;o.Extend={URI:o.URI,map:C,extend:tr};o.ChainRec={URI:o.URI,map:C,ap:oe,chain:o.flatMap,chainRec:nr};o.throwError=o.left;o.MonadThrow={URI:o.URI,map:C,ap:oe,of:o.of,chain:o.flatMap,throwError:o.throwError};o.FromEither={URI:o.URI,fromEither:R.identity};o.fromPredicate=(0,de.fromPredicate)(o.FromEither);o.fromOption=(0,de.fromOption)(o.FromEither);o.isLeft=K.isLeft;o.isRight=K.isRight;var Zi=function(e,r){return function(t){return(0,o.isLeft)(t)?e(t.left):r(t.right)}};o.matchW=Zi;o.foldW=o.matchW;o.match=o.matchW;o.fold=o.match;var Qi=function(e){return function(r){return(0,o.isLeft)(r)?e(r.left):r.right}};o.getOrElseW=Qi;o.getOrElse=o.getOrElseW;o.flap=(0,me.flap)(o.Functor);o.apFirst=(0,ge.apFirst)(o.Apply);o.apFirstW=o.apFirst;o.apSecond=(0,ge.apSecond)(o.Apply);o.apSecondW=o.apSecond;o.tap=(0,R.dual)(2,lt.tap(o.Chain));o.flattenW=(0,o.flatMap)(R.identity);o.flatten=o.flattenW;o.duplicate=(0,o.extend)(R.identity);o.fromOptionK=(0,de.fromOptionK)(o.FromEither);o.chainOptionK=(0,de.chainOptionK)(o.FromEither,o.Chain);o.chainOptionKW=o.chainOptionK;var Le={fromEither:o.FromEither.fromEither};o.liftNullable=K.liftNullable(Le);o.liftOption=K.liftOption(Le);var ft={flatMap:o.flatMap};o.flatMapNullable=K.flatMapNullable(Le,ft);o.flatMapOption=K.flatMapOption(Le,ft);o.filterOrElse=(0,de.filterOrElse)(o.FromEither,o.Chain);o.filterOrElseW=o.filterOrElse;var Yi=function(e){return(0,o.isLeft)(e)?(0,o.right)(e.left):(0,o.left)(e.right)};o.swap=Yi;var ea=function(e){return function(r){return(0,o.isLeft)(r)?e(r.left):r}};o.orElseW=ea;o.orElse=o.orElseW;var ra=function(e){return function(r){return r==null?(0,o.left)(e):(0,o.right)(r)}};o.fromNullable=ra;var ta=function(e,r){try{return(0,o.right)(e())}catch(t){return(0,o.left)(r(t))}};o.tryCatch=ta;var na=function(e,r){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(0,o.tryCatch)(function(){return e.apply(void 0,t)},r)}};o.tryCatchK=na;var oa=function(e){var r=(0,o.fromNullable)(e);return function(t){return(0,R.flow)(t,r)}};o.fromNullableK=oa;var ia=function(e){var r=(0,o.fromNullableK)(e);return function(t){return(0,o.flatMap)(r(t))}};o.chainNullableK=ia;o.toUnion=(0,o.foldW)(R.identity,R.identity);function aa(e){try{return e instanceof Error?e:new Error(String(e))}catch{return new Error}}o.toError=aa;function gt(e){return function(r,t){if(t===void 0){var n=gt(e);return function(i){return n(r,i)}}return(0,o.isLeft)(t)?!1:e.equals(r,t.right)}}o.elem=gt;var sa=function(e){return function(r){return(0,o.isLeft)(r)?!1:e(r.right)}};o.exists=sa;o.Do=(0,o.of)(K.emptyRecord);o.bindTo=(0,me.bindTo)(o.Functor);var ua=(0,me.let)(o.Functor);o.let=ua;o.bind=lt.bind(o.Chain);o.bindW=o.bind;o.apS=(0,ge.apS)(o.Apply);o.apSW=o.apS;o.ApT=(0,o.of)(K.emptyReadonlyArray);var ca=function(e){return function(r){var t=e(0,K.head(r));if((0,o.isLeft)(t))return t;for(var n=[t.right],i=1;i<r.length;i++){var a=e(i,r[i]);if((0,o.isLeft)(a))return a;n.push(a.right)}return(0,o.right)(n)}};o.traverseReadonlyNonEmptyArrayWithIndex=ca;var la=function(e){var r=(0,o.traverseReadonlyNonEmptyArrayWithIndex)(e);return function(t){return K.isNonEmpty(t)?r(t):o.ApT}};o.traverseReadonlyArrayWithIndex=la;o.traverseArrayWithIndex=o.traverseReadonlyArrayWithIndex;var pa=function(e){return(0,o.traverseReadonlyArrayWithIndex)(function(r,t){return e(t)})};o.traverseArray=pa;o.sequenceArray=(0,o.traverseArray)(R.identity);o.chainW=o.flatMap;o.chain=o.flatMap;o.chainFirst=o.tap;o.chainFirstW=o.tap;function fa(e,r){return(0,o.tryCatch)(function(){return JSON.parse(e)},r)}o.parseJSON=fa;var ga=function(e,r){return(0,o.tryCatch)(function(){var t=JSON.stringify(e);if(typeof t!="string")throw new Error("Converting unsupported structure to JSON");return t},r)};o.stringifyJSON=ga;o.either={URI:o.URI,map:C,of:o.of,ap:oe,chain:o.flatMap,reduce:ve,foldMap:he,reduceRight:ye,traverse:_e,sequence:o.sequence,bimap:er,mapLeft:rr,alt:pt,extend:tr,chainRec:nr,throwError:o.throwError};o.getApplySemigroup=(0,ge.getApplySemigroup)(o.Apply);o.getApplyMonoid=(0,ct.getApplicativeMonoid)(o.Applicative);var da=function(e,r){return(0,ge.getApplySemigroup)((0,o.getApplicativeValidation)(e))(r)};o.getValidationSemigroup=da;var ma=function(e,r){return(0,ct.getApplicativeMonoid)((0,o.getApplicativeValidation)(e))(r)};o.getValidationMonoid=ma;function va(e){var r=(0,o.getApplicativeValidation)(e).ap,t=(0,o.getAltValidation)(e).alt;return{URI:o.URI,_E:void 0,map:C,of:o.of,chain:o.flatMap,bimap:er,mapLeft:rr,reduce:ve,foldMap:he,reduceRight:ye,extend:tr,traverse:_e,sequence:o.sequence,chainRec:nr,throwError:o.throwError,ap:r,alt:t}}o.getValidation=va});var bt=$((ur,xt)=>{(function(e,r){if(typeof define=="function"&&define.amd)define("webextension-polyfill",["module"],r);else if(typeof ur<"u")r(xt);else{var t={exports:{}};r(t),e.browser=t.exports}})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:ur,function(e){"use strict";if(!globalThis.chrome?.runtime?.id)throw new Error("This script should only be loaded in a browser extension.");if(typeof globalThis.browser>"u"||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){let r="The message port closed before a response was received.",t=n=>{let i={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(i).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class a extends WeakMap{constructor(g,x=void 0){super(x),this.createItem=g}get(g){return this.has(g)||this.set(g,this.createItem(g)),super.get(g)}}let u=f=>f&&typeof f=="object"&&typeof f.then=="function",s=(f,g)=>(...x)=>{n.runtime.lastError?f.reject(new Error(n.runtime.lastError.message)):g.singleCallbackArg||x.length<=1&&g.singleCallbackArg!==!1?f.resolve(x[0]):f.resolve(x)},c=f=>f==1?"argument":"arguments",m=(f,g)=>function(T,..._){if(_.length<g.minArgs)throw new Error(`Expected at least ${g.minArgs} ${c(g.minArgs)} for ${f}(), got ${_.length}`);if(_.length>g.maxArgs)throw new Error(`Expected at most ${g.maxArgs} ${c(g.maxArgs)} for ${f}(), got ${_.length}`);return new Promise((j,B)=>{if(g.fallbackToNoCallback)try{T[f](..._,s({resolve:j,reject:B},g))}catch(y){console.warn(`${f} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,y),T[f](..._),g.fallbackToNoCallback=!1,g.noCallback=!0,j()}else g.noCallback?(T[f](..._),j()):T[f](..._,s({resolve:j,reject:B},g))})},d=(f,g,x)=>new Proxy(g,{apply(T,_,j){return x.call(_,f,...j)}}),w=Function.call.bind(Object.prototype.hasOwnProperty),v=(f,g={},x={})=>{let T=Object.create(null),_={has(B,y){return y in f||y in T},get(B,y,W){if(y in T)return T[y];if(!(y in f))return;let P=f[y];if(typeof P=="function")if(typeof g[y]=="function")P=d(f,f[y],g[y]);else if(w(x,y)){let ie=m(y,x[y]);P=d(f,f[y],ie)}else P=P.bind(f);else if(typeof P=="object"&&P!==null&&(w(g,y)||w(x,y)))P=v(P,g[y],x[y]);else if(w(x,"*"))P=v(P,g[y],x["*"]);else return Object.defineProperty(T,y,{configurable:!0,enumerable:!0,get(){return f[y]},set(ie){f[y]=ie}}),P;return T[y]=P,P},set(B,y,W,P){return y in T?T[y]=W:f[y]=W,!0},defineProperty(B,y,W){return Reflect.defineProperty(T,y,W)},deleteProperty(B,y){return Reflect.deleteProperty(T,y)}},j=Object.create(f);return new Proxy(j,_)},N=f=>({addListener(g,x,...T){g.addListener(f.get(x),...T)},hasListener(g,x){return g.hasListener(f.get(x))},removeListener(g,x){g.removeListener(f.get(x))}}),V=new a(f=>typeof f!="function"?f:function(x){let T=v(x,{},{getContent:{minArgs:0,maxArgs:0}});f(T)}),O=new a(f=>typeof f!="function"?f:function(x,T,_){let j=!1,B,y=new Promise(ue=>{B=function(J){j=!0,ue(J)}}),W;try{W=f(x,T,B)}catch(ue){W=Promise.reject(ue)}let P=W!==!0&&u(W);if(W!==!0&&!P&&!j)return!1;let ie=ue=>{ue.then(J=>{_(J)},J=>{let Ce;J&&(J instanceof Error||typeof J.message=="string")?Ce=J.message:Ce="An unexpected error occurred",_({__mozWebExtensionPolyfillReject__:!0,message:Ce})}).catch(J=>{console.error("Failed to send onMessage rejected reply",J)})};return ie(P?W:y),!0}),ee=({reject:f,resolve:g},x)=>{n.runtime.lastError?n.runtime.lastError.message===r?g():f(new Error(n.runtime.lastError.message)):x&&x.__mozWebExtensionPolyfillReject__?f(new Error(x.message)):g(x)},gr=(f,g,x,...T)=>{if(T.length<g.minArgs)throw new Error(`Expected at least ${g.minArgs} ${c(g.minArgs)} for ${f}(), got ${T.length}`);if(T.length>g.maxArgs)throw new Error(`Expected at most ${g.maxArgs} ${c(g.maxArgs)} for ${f}(), got ${T.length}`);return new Promise((_,j)=>{let B=ee.bind(null,{resolve:_,reject:j});T.push(B),x.sendMessage(...T)})},Ut={devtools:{network:{onRequestFinished:N(V)}},runtime:{onMessage:N(O),onMessageExternal:N(O),sendMessage:gr.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:gr.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},Ue={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return i.privacy={network:{"*":Ue},services:{"*":Ue},websites:{"*":Ue}},v(n,Ut,i)};e.exports=t(chrome)}else e.exports=globalThis.browser})});var Bt=function(e,r,t){if(t||arguments.length===2)for(var n=0,i=r.length,a;n<i;n++)(a||!(n in r))&&(a||(a=Array.prototype.slice.call(r,0,n)),a[n]=r[n]);return e.concat(a||Array.prototype.slice.call(r))};function vr(e){return e}function De(e,r,t,n,i,a,u,s,c){switch(arguments.length){case 1:return e;case 2:return r(e);case 3:return t(r(e));case 4:return n(t(r(e)));case 5:return i(n(t(r(e))));case 6:return a(i(n(t(r(e)))));case 7:return u(a(i(n(t(r(e))))));case 8:return s(u(a(i(n(t(r(e)))))));case 9:return c(s(u(a(i(n(t(r(e))))))));default:{for(var m=arguments[0],d=1;d<arguments.length;d++)m=arguments[d](m);return m}}}var Ae=function(e,r){var t=typeof e=="number"?function(n){return n.length>=e}:e;return function(){var n=Array.from(arguments);return t(arguments)?r.apply(this,n):function(i){return r.apply(void 0,Bt([i],n,!1))}}};var hr=function(e){return e._tag==="Left"};var yr=function(e){return{_tag:"Left",left:e}},xr=function(e){return{_tag:"Right",right:e}};function Ne(e){return function(r,t){return e.map(r,function(){return t})}}function br(e){var r=Ne(e);return function(t){return r(t,void 0)}}function Ar(e){return function(r,t){return e.chain(r,function(n){return e.map(t(n),function(){return n})})}}var Tr=yr,Te=xr,kt=Ae(2,function(e,r){return z(e)?e:r(e.right)}),wr=function(e,r){return De(e,Ht(r))},Kt=function(e,r){return De(e,zt(r))};var qe="Either";var Ht=function(e){return function(r){return z(r)?r:Te(e(r.right))}},Sr={URI:qe,map:wr},ss=Ae(2,Ne(Sr)),us=br(Sr);var Vt=function(e){return function(r){return z(r)?r:z(e)?e:Te(r.right(e.right))}},zt=Vt;var Jt={URI:qe,map:wr,ap:Kt,chain:kt};var Gt={URI:qe,fromEither:vr};var z=hr;var cs=Ae(2,Ar(Jt));var ls={fromEither:Gt.fromEither};var A=function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),we=function(){return we=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},we.apply(this,arguments)};var We=Tr,L=function(e,r,t){return We([{value:e,context:r,message:t}])},I=Te,b=function(){function e(r,t,n,i){this.name=r,this.is=t,this.validate=n,this.encode=i,this.decode=this.decode.bind(this)}return e.prototype.pipe=function(r,t){var n=this;return t===void 0&&(t="pipe(".concat(this.name,", ").concat(r.name,")")),new e(t,r.is,function(i,a){var u=n.validate(i,a);return z(u)?u:r.validate(u.right,a)},this.encode===M&&r.encode===M?M:function(i){return n.encode(r.encode(i))})},e.prototype.asDecoder=function(){return this},e.prototype.asEncoder=function(){return this},e.prototype.decode=function(r){return this.validate(r,[{key:"",type:this,actual:r}])},e}();var M=function(e){return e};function Xt(e){return e.displayName||e.name||"<function".concat(e.length,">")}function Fe(e,r,t,n){for(var i=e.length,a=Array(i+1),u=0;u<i;u++)a[u]=e[u];return a[i]={key:r,type:t,actual:n},a}function Er(e,r){for(var t=r.length,n=0;n<t;n++)e.push(r[n])}var Se=Object.prototype.hasOwnProperty;function Zt(e){return Object.keys(e).map(function(r){return"".concat(r,": ").concat(e[r].name)}).join(", ")}function Be(e){for(var r=0;r<e.length;r++)if(e[r].encode!==M)return!1;return!0}function Qt(e){return"{ ".concat(Zt(e)," }")}function Yt(e){return"("+e.map(function(r){return r.name}).join(" | ")+")"}function en(e){return e.length>0}var F={};function Rr(e,r){for(var t=[],n=0,i=e;n<i.length;n++){var a=i[n];r.indexOf(a)!==-1&&t.push(a)}return t}function rn(e,r){if(e===F)return r;if(r===F)return e;var t=Object.assign({},e);for(var n in r)if(Se.call(e,n)){var i=Rr(e[n],r[n]);if(en(i))t[n]=i;else{t=F;break}}else t[n]=r[n];return t}function tn(e,r){if(e===F||r===F)return F;var t=F;for(var n in e)if(Se.call(r,n)){var i=Rr(e[n],r[n]);i.length===0&&(t===F&&(t={}),t[n]=e[n].concat(r[n]))}return t}function nn(e){return e._tag==="LiteralType"}function on(e){return e._tag==="InterfaceType"}function an(e){return e._tag==="StrictType"}function sn(e){return e._tag==="ExactType"}function un(e){return e._tag==="RefinementType"}function cn(e){return e._tag==="IntersectionType"}function ln(e){return e._tag==="UnionType"}function pn(e){return e._tag==="RecursiveType"}var je=[];function re(e){if(je.indexOf(e)!==-1)return F;if(on(e)||an(e)){var r=F;for(var t in e.props){var n=e.props[t];nn(n)&&(r===F&&(r={}),r[t]=[n.value])}return r}else{if(sn(e)||un(e))return re(e.type);if(cn(e))return e.types.reduce(function(a,u){return rn(a,re(u))},F);if(ln(e))return e.types.slice(1).reduce(function(a,u){return tn(a,re(u))},re(e.types[0]));if(pn(e)){je.push(e);var i=re(e.type);return je.pop(),i}}return F}function fn(e){var r=re(e[0]),t=Object.keys(r),n=e.length,i=function(m){for(var d=r[m].slice(),w=[r[m]],v=1;v<n;v++){var N=e[v],V=re(N),O=V[m];if(O===void 0)return"continue-keys";if(O.some(function(ee){return d.indexOf(ee)!==-1}))return"continue-keys";d.push.apply(d,O),w.push(O)}return{value:[m,w]}};e:for(var a=0,u=t;a<u.length;a++){var s=u[a],c=i(s);if(typeof c=="object")return c.value;switch(c){case"continue-keys":continue e}}}var gn=function(e){A(r,e);function r(){var t=e.call(this,"null",function(n){return n===null},function(n,i){return t.is(n)?I(n):L(n,i)},M)||this;return t._tag="NullType",t}return r}(b);var gs=new gn,dn=function(e){A(r,e);function r(){var t=e.call(this,"undefined",function(n){return n===void 0},function(n,i){return t.is(n)?I(n):L(n,i)},M)||this;return t._tag="UndefinedType",t}return r}(b);var Mr=new dn,mn=function(e){A(r,e);function r(){var t=e.call(this,"void",Mr.is,Mr.validate,M)||this;return t._tag="VoidType",t}return r}(b);var ds=new mn,vn=function(e){A(r,e);function r(){var t=e.call(this,"unknown",function(n){return!0},I,M)||this;return t._tag="UnknownType",t}return r}(b);var Ee=new vn,hn=function(e){A(r,e);function r(){var t=e.call(this,"string",function(n){return typeof n=="string"},function(n,i){return t.is(n)?I(n):L(n,i)},M)||this;return t._tag="StringType",t}return r}(b);var Pr=new hn,yn=function(e){A(r,e);function r(){var t=e.call(this,"number",function(n){return typeof n=="number"},function(n,i){return t.is(n)?I(n):L(n,i)},M)||this;return t._tag="NumberType",t}return r}(b);var Ir=new yn,xn=function(e){A(r,e);function r(){var t=e.call(this,"bigint",function(n){return typeof n=="bigint"},function(n,i){return t.is(n)?I(n):L(n,i)},M)||this;return t._tag="BigIntType",t}return r}(b);var ms=new xn,bn=function(e){A(r,e);function r(){var t=e.call(this,"boolean",function(n){return typeof n=="boolean"},function(n,i){return t.is(n)?I(n):L(n,i)},M)||this;return t._tag="BooleanType",t}return r}(b);var vs=new bn,An=function(e){A(r,e);function r(){var t=e.call(this,"UnknownArray",Array.isArray,function(n,i){return t.is(n)?I(n):L(n,i)},M)||this;return t._tag="AnyArrayType",t}return r}(b);var hs=new An,Tn=function(e){A(r,e);function r(){var t=e.call(this,"UnknownRecord",function(n){return n!==null&&typeof n=="object"&&!Array.isArray(n)},function(n,i){return t.is(n)?I(n):L(n,i)},M)||this;return t._tag="AnyDictionaryType",t}return r}(b);var Me=new Tn;var wn=function(e){A(r,e);function r(t,n,i,a,u){var s=e.call(this,t,n,i,a)||this;return s.value=u,s._tag="LiteralType",s}return r}(b);function Re(e,r){r===void 0&&(r=JSON.stringify(e));var t=function(n){return n===e};return new wn(r,t,function(n,i){return t(n)?I(e):L(n,i)},M,e)}var ys=function(e){A(r,e);function r(t,n,i,a,u){var s=e.call(this,t,n,i,a)||this;return s.keys=u,s._tag="KeyofType",s}return r}(b);var Sn=function(e){A(r,e);function r(t,n,i,a,u,s){var c=e.call(this,t,n,i,a)||this;return c.type=u,c.predicate=s,c._tag="RefinementType",c}return r}(b);function Mn(e,r,t){return Lr(e,r,t)}var xs=Mn(Ir,function(e){return Number.isInteger(e)},"Int"),En=function(e){A(r,e);function r(t,n,i,a,u){var s=e.call(this,t,n,i,a)||this;return s.runDefinition=u,s._tag="RecursiveType",s}return r}(b);Object.defineProperty(En.prototype,"type",{get:function(){return this.runDefinition()},enumerable:!0,configurable:!0});var bs=function(e){A(r,e);function r(t,n,i,a,u){var s=e.call(this,t,n,i,a)||this;return s.type=u,s._tag="ArrayType",s}return r}(b);var Rn=function(e){A(r,e);function r(t,n,i,a,u){var s=e.call(this,t,n,i,a)||this;return s.props=u,s._tag="InterfaceType",s}return r}(b);function ce(e,r){r===void 0&&(r=Qt(e));var t=Object.keys(e),n=t.map(function(a){return e[a]}),i=t.length;return new Rn(r,function(a){if(Me.is(a)){for(var u=0;u<i;u++){var s=t[u],c=a[s];if(c===void 0&&!Se.call(a,s)||!n[u].is(c))return!1}return!0}return!1},function(a,u){var s=Me.validate(a,u);if(z(s))return s;for(var c=s.right,m=c,d=[],w=0;w<i;w++){var v=t[w],N=m[v],V=n[w],O=V.validate(N,Fe(u,v,V,N));if(z(O))Er(d,O.left);else{var ee=O.right;(ee!==N||ee===void 0&&!Se.call(m,v))&&(m===c&&(m=we({},c)),m[v]=ee)}}return d.length>0?We(d):I(m)},Be(n)?M:function(a){for(var u=we({},a),s=0;s<i;s++){var c=t[s],m=n[s].encode;m!==M&&(u[c]=m(a[c]))}return u},e)}var As=function(e){A(r,e);function r(t,n,i,a,u){var s=e.call(this,t,n,i,a)||this;return s.props=u,s._tag="PartialType",s}return r}(b);var Ts=function(e){A(r,e);function r(t,n,i,a,u,s){var c=e.call(this,t,n,i,a)||this;return c.domain=u,c.codomain=s,c._tag="DictionaryType",c}return r}(b);var Or=function(e){A(r,e);function r(t,n,i,a,u){var s=e.call(this,t,n,i,a)||this;return s.types=u,s._tag="UnionType",s}return r}(b);function _r(e,r){r===void 0&&(r=Yt(e));var t=fn(e);if(t!==void 0&&e.length>0){var n=t[0],i=t[1],a=i.length,u=function(s){for(var c=0;c<a;c++)if(i[c].indexOf(s)!==-1)return c};return new _n(r,function(s){if(Me.is(s)){var c=u(s[n]);return c!==void 0?e[c].is(s):!1}return!1},function(s,c){var m=Me.validate(s,c);if(z(m))return m;var d=m.right,w=u(d[n]);if(w===void 0)return L(s,c);var v=e[w];return v.validate(d,Fe(c,String(w),v,d))},Be(e)?M:function(s){var c=u(s[n]);if(c===void 0)throw new Error("no codec found to encode value in union codec ".concat(r));return e[c].encode(s)},e,n)}else return new Or(r,function(s){return e.some(function(c){return c.is(s)})},function(s,c){for(var m=[],d=0;d<e.length;d++){var w=e[d],v=w.validate(s,Fe(c,String(d),w,s));if(z(v))Er(m,v.left);else return I(v.right)}return We(m)},Be(e)?M:function(s){for(var c=0,m=e;c<m.length;c++){var d=m[c];if(d.is(s))return d.encode(s)}throw new Error("no codec found to encode value in union type ".concat(r))},e)}var ws=function(e){A(r,e);function r(t,n,i,a,u){var s=e.call(this,t,n,i,a)||this;return s.types=u,s._tag="IntersectionType",s}return r}(b);var Ss=function(e){A(r,e);function r(t,n,i,a,u){var s=e.call(this,t,n,i,a)||this;return s.types=u,s._tag="TupleType",s}return r}(b);var Ms=function(e){A(r,e);function r(t,n,i,a,u){var s=e.call(this,t,n,i,a)||this;return s.type=u,s._tag="ReadonlyType",s}return r}(b);var Es=function(e){A(r,e);function r(t,n,i,a,u){var s=e.call(this,t,n,i,a)||this;return s.type=u,s._tag="ReadonlyArrayType",s}return r}(b);var Rs=function(e){A(r,e);function r(t,n,i,a,u){var s=e.call(this,t,n,i,a)||this;return s.type=u,s._tag="ExactType",s}return r}(b);var Pn=function(e){A(r,e);function r(){var t=e.call(this,"Function",function(n){return typeof n=="function"},function(n,i){return t.is(n)?I(n):L(n,i)},M)||this;return t._tag="FunctionType",t}return r}(b);var Ps=new Pn,In=function(e){A(r,e);function r(){var t=e.call(this,"never",function(n){return!1},function(n,i){return L(n,i)},function(){throw new Error("cannot encode never")})||this;return t._tag="NeverType",t}return r}(b);var Is=new In,On=function(e){A(r,e);function r(){var t=e.call(this,"any",function(n){return!0},I,M)||this;return t._tag="AnyType",t}return r}(b);var Os=new On;function Lr(e,r,t){return t===void 0&&(t="(".concat(e.name," | ").concat(Xt(r),")")),new Sn(t,function(n){return e.is(n)&&r(n)},function(n,i){var a=e.validate(n,i);if(z(a))return a;var u=a.right;return r(u)?I(u):L(u,i)},e.encode,e,r)}var _s=Lr(Ir,Number.isInteger,"Integer"),_n=function(e){A(r,e);function r(t,n,i,a,u,s){var c=e.call(this,t,n,i,a,u)||this;return c.tag=s,c}return r}(Or);var Ln=function(e){A(r,e);function r(){var t=e.call(this,"object",function(n){return n!==null&&typeof n=="object"},function(n,i){return t.is(n)?I(n):L(n,i)},M)||this;return t._tag="ObjectType",t}return r}(b);var Ls=new Ln;var Us=function(e){A(r,e);function r(t,n,i,a,u){var s=e.call(this,t,n,i,a)||this;return s.props=u,s._tag="StrictType",s}return r}(b);var Cr,Un=Symbol(),k=class{constructor(r){this[Cr]=0,this.toString=()=>this.str,this.toJSON=()=>this.str,this.loggableString=()=>this,this.replace=(t,n)=>te(this.str.replace(t,n.str)),this.concat=t=>te(this.str+t.str),this.str=r}};Cr=Un;k.assertLogSafe=e=>new k(e);var Cn=(e,r)=>te(e.map(t=>t.str).join(r?.str)),te=k.assertLogSafe,Z=(e,...r)=>Cn(e.flatMap((t,n)=>{let i=r[n];return i!==void 0?[te(t),i]:[te(t)]}),te(""));var Dn=new b("LoggableString",e=>e instanceof k,(e,r)=>e instanceof k?I(e):L(e,r,"cannot decode unknown value to LoggableString"),e=>e.str);function Dr(e,r,t){if(t){console.error(`${t.str}: Unexpected value of variable: "${r.str}"`);return}console.error(`Unexpected value of variable: "${r.str}"`)}function Nn(){return qn().toString(36)}function qn(){return globalThis.crypto.getRandomValues(new Uint32Array(1))[0]}function Nr(){return k.assertLogSafe(Nn())}var $e=e=>{let[r]=e.split("?");return`PortOpener: ${r}`},qr=(e,r,t)=>{let n=jr(e,r);return r?.reconnect&&Fr(n,t),n},jr=(e,r,t)=>jn(e,r||{},t),jn=(e,r,t)=>{let{port:n,portId:i}=Fn(e,r,t),a=$e(n.name);`${a}`;let u=Bn(n);n.onMessage.addListener(u);let s=()=>{n.onMessage.removeListener(u),n.onDisconnect.removeListener(s)};n.onDisconnect.addListener(s);let c=new WeakMap;return{name:`${e.toString()}/${i.toString()}`,disconnect:n.disconnect,postMessage:d=>{`${a}${d.type}`,n.postMessage(d)},onMessage:{addListener:d=>{let w=(v,N)=>{v.type!=="pm-health-check-request"&&d(v,N.name)};n.onMessage.addListener(w),c.set(d,w)},removeListener:d=>{let w=c.get(d);n.onMessage.removeListener(w),c.delete(d)}},onDisconnect:{addListener:d=>{n.onDisconnect.addListener(d)},removeListener:d=>{n.onDisconnect.removeListener(d)}},getConfig:()=>({id:i,reqId:r.reqId,type:e})}},Fr=(e,r)=>{let t=$e(e.name),n=new Map,i=new Map,a={...e.onMessage},u={...e.onDisconnect},s=v=>{`${t}`,a.addListener(v),n.set(v,v)},c=v=>{`${t}`,a.removeListener(v),n.delete(v)},m=v=>{`${t}`,u.addListener(v),i.set(v,v)},d=v=>{`${t}`,u.removeListener(v),i.delete(v)},w=v=>{if(!v.persisted)return;window.removeEventListener("pageshow",w),`${t}`;let N=e.getConfig(),V=jr(N.type,{reconnect:!0,reqId:N.reqId},N.id);Fr(V,r);for(let O of n.keys())e.onMessage.removeListener(O),V.onMessage.addListener(O);for(let O of i.keys())e.onDisconnect.removeListener(O),V.onDisconnect.addListener(O);r?.(V)};e.onMessage.addListener=s,e.onMessage.removeListener=c,e.onDisconnect.addListener=m,e.onDisconnect.removeListener=d,window.addEventListener("pageshow",w)},Fn=(e,r,t)=>{let n=Nr(),i={};r.reqId&&(i.reqId=r.reqId.str),r.reconnect&&(i.reconnect=`${r.reconnect}`),t&&(i.reconnectId=t.str);let a="?"+new URLSearchParams(i).toString();return{port:chrome.runtime.connect({name:`${e.str}/${n.str}${a.length>1?a:""}`}),portId:n}},Bn=e=>r=>{let t=$e(e.name);if(r.type==="error"){console.warn(`${t} received error: "${r.data.loggableReason}"`);return}if(r.type!=="pm-health-check-request"){`${t}${r.type}`;return}if(r.type==="pm-health-check-request"){`${t}${r.type}`,e.postMessage({type:"pm-health-check-response",data:{windowClosed:window.closed,id:r.data.id}});return}Dr(r,Z`message`)};var Pe=class{constructor(r=""){this.log=(r,...t)=>{this.isPermitted()&&(this.message(r),[...t])};this.debug=(r,...t)=>{this.isPermitted()&&(this.message(r),[...t])};this.info=(r,...t)=>{this.isPermitted()&&console.info(this.message(r),...t)};this.warn=(r,...t)=>{this.isPermitted()&&console.warn(this.message(r),...t)};this.error=(r,...t)=>{this.isPermitted()&&console.error(this.message(r),...t)};this.isPermitted=()=>!1;this.message=r=>this._prependMessage?`${this._prependMessage}: ${r}`:r;this._prependMessage=r}};function Br(e){return!!(e&&typeof e=="object"&&["Success","Error"].includes(e.type))}function Wn(e){try{return e?.useChrome||browser?.runtime===void 0?async r=>Wr(r):async r=>browser.runtime.sendMessage(r)}catch{return async t=>Wr(t)}}async function $r(e,r){let n=await Wn(r)(e).catch(i=>{let a=i instanceof Error?i.message:String(i);if(a.includes("Receiving end does not exist"))`${e.name}`;else if(a.includes("The message port closed"))`${e.name}`;else if(!a)`${e.name}`;else throw new Error(`Unhandled error response received for message <${e.name}>`)});if(Br(n))switch(n.type){case"Success":return n.data;case"Error":throw new Error(n.message??`Error response received for message <${e.name}>`)}if(n)throw new Error(`Unknown response type received for message <${e.name}>`);return n}async function Wr(e){return new Promise((r,t)=>{chrome.runtime.sendMessage(e,n=>{if(n?.type==="Success")r(n);else{let i=chrome.runtime.lastError;t(new Error(i?.message))}})})}var ke=class{constructor(r){this.request=async r=>$r(r);this.setupRegisteredHandler=(r,t)=>{function n(i,a,u){if(i.name&&i.name===r){let s=new Pe("WebExtListener handler registration");return new Promise(c=>c(t(i.data))).then(u).catch(c=>{console.warn(`Caught error handling <${i.name}> message`),s.error(c)}),!0}return!1}return n};this.on=(r,t)=>{let n=this.setupRegisteredHandler(r,t);return this.registeredHandlers=this.registeredHandlers??[],this.registeredHandlers.push(n),chrome.runtime.onMessage.addListener(n),n};this.setupPort=r=>{this.port=qr(k.assertLogSafe(r),{reconnect:!0},this.onPortReconnect),this.port.onMessage.addListener(this.onPortMessage)};this.onPortReconnect=r=>{this.port=r};this.onPortMessage=({type:r,data:t})=>{if(r!=="targeted-inline-message")return;(this.registeredHandlers??[]).forEach(i=>{let a=()=>{`${t.message.name}`};i(t.message,void 0,a)})};this.off=(r,t)=>{chrome.runtime.onMessage.removeListener(t)};r&&(this.portType=r,this.setupPort(r),this.registeredHandlers=[])}};function kr(e){return new ke(e)}var Ke=_r([ce({type:Re("Success"),data:Ee}),ce({type:Re("Error"),message:Ee}),ce({type:Re("NoListener")})]),$n=ce({name:Pr,data:Ee});var He=()=>Number(crypto.getRandomValues(new Uint32Array(1))[0]),Kr=()=>crypto.getRandomValues(new Uint32Array(1))[0].toString(36);var le=class e{constructor(r,t){this.appName=r;this.traceReporter=t;this.appName=r,this.observerId=String(Kr()),this.performanceObserver=new PerformanceObserver(n=>{n.getEntries().filter(i=>!!i.detail?.spanId).forEach(i=>{let a=this.buildDataDogPayload(i);if(a.meta.entryType==="measure")try{this.traceReporter(a)}catch(u){console.error("Error in sending trace",u)}})})}startObserver(){this.performanceObserver.observe({type:"measure",buffered:!0}),`${this.appName}${this.observerId}`}stopObserver(){this.performanceObserver.disconnect()}calculateEpochTime(r){return Math.round(r+performance.timeOrigin)}static humanReadableTimestamp(r){return Math.round(r*100)/100}buildDataDogPayload(r){return{name:r.name,traceId:r.detail.traceId,spanId:r.detail.spanId,parentId:r.detail.parentSpanId,start:this.calculateEpochTime(r.startTime),duration:Math.round(r.duration*1e6),service:this.appName,resource:r.name,type:"web",error:r.detail.error?1:0,meta:{observerId:this.observerId,entryType:r.entryType,component:r.detail.componentName,operation:r.detail.componentName}}}static createActiveSpan(r,t,n){let i={name:r,componentName:t,spanId:He(),traceId:n?n.traceId:He(),parentSpanId:n?n.spanId:void 0,error:!1};return performance.mark(`start-${r}`,{detail:i}),i}static endActiveSpan(r,t=!1,n=!1){let i=performance.measure(r.name,{start:`start-${r.name}`,detail:{...r,error:t}});n&&console.info(`Performance diagnostic: "${r.name}" took ${this.humanReadableTimestamp(i.duration)}ms to execute.`)}static syncObserve(r,t,n,i,a=!1){let u=this.createActiveSpan(r,t,i);try{let s=n(u);return this.endActiveSpan(u,!1,a),s}catch(s){throw this.endActiveSpan(u,!0,a),s}}static async asyncObserve(r,t,n,i,a=!1){let u=this.createActiveSpan(r,t,i);try{let s=await n(u);return this.endActiveSpan(u,!1,a),s}catch(s){throw this.endActiveSpan(u,!0,a),s}}static async conditionalObserve(r,...t){let[n,i,a,u]=t,s=a;return r?e.asyncObserve(n,i,s,u):a({name:"",componentName:"",spanId:0,traceId:0,parentSpanId:void 0,error:!1})}};var Ve=()=>!1;var ar=mr(dt());var or=ha;function ha(e,r){var t={};typeof r=="string"&&(r=[].slice.call(arguments,1));for(var n=r.length,i=0;i<n;i++){var a=r[i];a in e&&(t[a]=e[a])}return t}var mt=async(e,r)=>new Promise((t,n)=>chrome.runtime.sendMessage(e,r,i=>{if(chrome.runtime.lastError){let a=chrome.runtime.lastError?.message||"Unable to send message with chrome.runtime.sendMessage";n(new Error(a))}else t(i)})),vt=async(e,r,t)=>new Promise((n,i)=>chrome.tabs.sendMessage(e,r,t,a=>{if(chrome.runtime.lastError){let u=chrome.runtime.lastError?.message||"Unable to send message with chrome.tabs.sendMessage";i(new Error(u))}else n(a)}));var ya=e=>typeof e=="object"&&e!==null&&"name"in e&&typeof e.name=="string"&&"message"in e&&typeof e.message=="string",ir=e=>ya(e)?e.message:"An unknown error occurred";var sr=async(e,r)=>r.tabId===void 0?xa(e,r):ba(e,r),xa=async(e,r)=>{let t;try{t=await mt(e,r)}catch(i){let a=ir(i);if(ht(a))`${e.name}`;else if(yt(a))`${e.name}`;else if(!a)`${e.name}`;else throw new Error(`Unhandled error response received for message <${e.name}>`);return{type:"NoListener"}}if(!t)return{type:"Success",data:void 0};let n=Ke.decode(t);if((0,ar.isLeft)(n))throw Error(`Unable to decode response for message <${e.name}>`);return n.right},ba=async(e,{tabId:r,...t})=>{let n;try{let a=or(t,["documentId","frameId"]),u=or(t,["targetParent"]);n=await vt(r,{...e,...u},a)}catch(a){let u=a instanceof Error?a.message:String(a);if(ht(u))`${e.name}`;else if(yt(u))`${e.name}`;else if(!u)`${e.name}`;else throw new Error(`Unhandled error response received for tab message <${e.name}>`);return{type:"NoListener"}}if(!n)return{type:"Success",data:void 0};let i=Ke.decode(n);if((0,ar.isLeft)(i))throw Error(`Unable to decode response for tab message <${e.name}>`);return i.right},ht=e=>e.includes("Receiving end does not exist"),yt=e=>e.includes("The message port closed");var Yu=(async()=>await Promise.resolve().then(()=>mr(bt())).catch(()=>globalThis.chrome))(),xe=async(e,r,t={enableTracing:!Ve()})=>{let n;try{let{enableTracing:i,...a}=t;n=i&&!Ve()?await le.asyncObserve(`invoke-${e}`,"messaging",async u=>sr({name:e,data:r,span:u},a)):await sr({name:e,data:r},a)}catch(i){return{ok:!1,type:"error",error:i instanceof Error?i:Error(`Unhandled response type when receiving response to <${e}>`)}}switch(n.type){case"Success":return{ok:!0,data:n.data};case"Error":return{ok:!1,type:"error",error:Error(`Error response received for message <${e}>`)};case"NoListener":return{ok:!1,type:"nolistener"};default:return{ok:!1,type:"error",error:Error(`Unhandled response type when receiving response to <${e}>`)}}};var At;(function(e){e.ContextError=Z`ContextError`,e.RequestError=Z`RequestError`,e.ValidationError=Z`ValidationError`})(At||(At={}));var Tt=async(e,r=5e3,t,n)=>{let i,a=new Promise((u,s)=>{i=globalThis.setTimeout(()=>{console.warn(`Promise timed out.${t?` ${t}`:""}`),s(n)},r)});return Promise.race([e,a]).finally(()=>clearTimeout(i))};async function wt(e){if(!D())return Promise.resolve(void 0);let r=new Promise(n=>{document.addEventListener("B5TrustedDeviceUpgradeResponse",i=>{n(i.detail)},{once:!0}),document.dispatchEvent(new CustomEvent("B5TrustedDeviceUpgradeRequest",{detail:X(e)}))}),t=Symbol();return Tt(r,500,"handleUpgradeTrustedDevice",t).catch(n=>{if(n!==t)throw n})}function X(e){return typeof cloneInto=="function"?cloneInto(e,window.document):e}function D(){let e=window.location.hostname;if(!e)return!1;e=e.toLowerCase();let r=["1password.ca","1password.com","1password.eu","b5dev.ca","b5dev.com","b5dev.eu","b5local.com","b5staging.com","b5test.ca","b5test.com","b5test.eu","b5rev.com"];for(let t of r)if(e===t||e.endsWith("."+t))return!0;return!1}var St=(e,r)=>{chrome.runtime.sendMessage({name:"report-error",data:{name:"InjectContentScript",message:e,severity:"error",stack:r}})};var Mt=()=>{let e=Object.entries(localStorage),r={deviceUuid:Ea(),userInfo:{},deviceKeys:{},lastUserUuid:Ot(Pt)};for(let[t,n]of e)t.startsWith(Sa)?r.userInfo[t]=n:t.startsWith(wa)&&(r.deviceKeys[t]=n);return r},Et=e=>{if(!It())return;Ma(e.deviceUuid),e.lastUserUuid&&cr(Pt,e.lastUserUuid);let r=[...Object.entries(e.userInfo),...Object.entries(e.deviceKeys)];for(let[t,n]of r)cr(t,n)};var Rt="deviceUUID",wa="deviceKey_";var Sa="user_",Pt="lastUser",be,It=e=>{if(typeof be=="boolean")return be;if(e)return be=!1,!1;try{localStorage.setItem("test","success");let r=localStorage.getItem("test")==="success";return localStorage.removeItem("test"),be=r,r}catch(r){return be=!1,!1}};var cr=(e,r)=>{try{localStorage.setItem(e,r)}catch(t){console.warn("Failed to save item in local storage:",t)}},Ot=e=>{try{return localStorage.getItem(e)||""}catch(r){return console.warn("localStorage.getItem failed:",r),""}};var Ma=e=>{It()&&cr(Rt,e)},Ea=()=>Ot(Rt);var H=kr(),lr={"auto-sign-in-to-b5":Pa,"initialize-device":Ia,lock:()=>{},"request-delegated-session":Oa,"upgrade-trusted-device":wt,"forward-iap-receipt-to-b5":Ra};for(let e in lr)Object.prototype.hasOwnProperty.call(lr,e)&&H.on(e,lr[e]);function Ra(e){D()&&document.dispatchEvent(new CustomEvent("B5ForwardIAPReceiptToB5",{detail:e}))}function Pa(e){D()&&document.dispatchEvent(new CustomEvent("B5InitializeSession",{detail:X(e)}))}function Ia(e){D()&&document.dispatchEvent(new CustomEvent("B5InitializeDevice",{detail:X(e.device)}))}async function Oa(e){return D()?new Promise(r=>{document.addEventListener("B5RequestDelegatedSessionResponse",t=>{r(t.detail)},{once:!0}),document.dispatchEvent(new CustomEvent("B5RequestDelegatedSession",{detail:X(e)}))}):Promise.resolve(void 0)}function _a(e){let r=document.querySelector(`iframe[src="${e}"]`);r&&document.body.removeChild(r)}function La(e){Ua("b5x-notification",e)}function Ua(e,r){let t=document.createElement("iframe");return t.id=e,r&&(t.src=r),document.body.appendChild(t),t}var pr={B5WebReady:Fa,B5SignInSucceeded:fr,B5DelegatedSignInSucceeded:fr,B5MyceliumDelegatedSignInSucceeded:fr,B5SessionInit:Ca,B5xRequestSession:Da,"share-save-item":Wa,"open-extension-welcome-page":qa,"open-swe-native-wrapper":ja,B5SsoComplete:Ba,B5xCredentialHydration:Lt,B5CheckExtensionPinStatus:Na};for(let e in pr)Object.prototype.hasOwnProperty.call(pr,e)&&document.addEventListener(e,pr[e]);function Ca(e){if(!D())return;let r=e.detail,t={name:"b5-session-init",data:{type:e.type,details:r}};H.request(t)}function Da(e){if(!D())return;let r=e.detail,t={name:"b5x-request-session-init",data:{type:e.type,details:r}};H.request(t)}async function Lt(){if(!D())return;let r={name:"b5x-credential-hydration",data:{type:"B5xCredentialHydration",details:{credentials:Mt()}}},t=await H.request(r),n=window.location.host,i=t.host===n;i||St("Credential hydration response host did not match intended host"),i&&t.restoreRequired&&t.credentials&&Et(t.credentials)}async function Na(){if(D())try{let e=await xe("checkExtensionPinStatus",void 0);e.ok?document.dispatchEvent(new CustomEvent("B5ExtensionPinStatusResponse",{detail:X(e.data)})):document.dispatchEvent(new CustomEvent("B5ExtensionPinStatusResponse",{detail:X({isPinned:!1})}))}catch(e){console.error("Error checking pin status:",e),document.dispatchEvent(new CustomEvent("B5ExtensionPinStatusResponse",{detail:X({isPinned:!1})}))}}function qa(e){D()&&H.request({name:"open-extension-welcome-page-for-onboarding",data:{owner:e?.detail?.owner,accountType:e?.detail?.accountType,accountUuid:e?.detail?.accountUuid,extensionFirstForSsoEnabled:e?.detail?.extensionFirstForSsoEnabled}})}function ja(e){D()&&H.request({name:"open-swe-native-wrapper",data:{url:e?.detail?.url}})}function Fa(e){if(!D())return;let r=e.detail;r.capabilities.DeviceInit&&xe("b5Ready",{deviceInit:r.capabilities.DeviceInit,sessionInit:r.capabilities.SessionInit})}function Ba(e){if(!D())return;let r={name:"b5-sso-complete",data:{type:e.type,details:e.detail}};H.request(r)}function fr(e){if(D()){if(e.type==="B5SignInSucceeded"){let r=e.detail;r.signinAddress=window.location.origin;let t={name:"sign-in-succeeded",data:{type:e.type,details:r}};H.request(t)}else if(e.type==="B5DelegatedSignInSucceeded"){let r=e.detail;r.signinAddress=window.location.origin;let t={name:"sign-in-succeeded",data:{type:e.type,details:r}};H.request(t)}else if(e.type==="B5MyceliumDelegatedSignInSucceeded"){let r=e.detail;r.signinAddress=window.location.origin;let t={name:"sign-in-succeeded",data:{type:e.type,details:r}};H.request(t)}else throw new Error("Unexpected event sent to handleUntrustedSignInEvent");H.on("show-add-account-prompt",La),H.on("close-add-account-prompt",_a)}}function Wa(e){D()&&xe("share-save-item",e.detail)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",_t):_t();function _t(){document.dispatchEvent(new CustomEvent("B5OPXReady",{bubbles:!1,cancelable:!1,detail:X({capabilities:{CustomAutosave:!0,SessionInit:1,DeviceInit:1,SingleSignOn:1,DelegatedSession:0,ShareSrpX:1}})}))}xe("get-build-number",void 0).then(e=>{if(!e.ok){console.error("Failed to get 1Password extension build number.");return}let{setOldAttribute:r,buildNumber:t}=e.data;r&&(document.body.dataset.onepasswordExtensionVersion=t),document.body.dataset.b5xBuildNumber=t});Lt();
})();

//# debugId=5996995a-7fd6-5ed2-a85d-09c59dfea4ca
